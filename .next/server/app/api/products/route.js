"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/products/route";
exports.ids = ["app/api/products/route"];
exports.modules = {

/***/ "better-sqlite3":
/*!*********************************!*\
  !*** external "better-sqlite3" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("better-sqlite3");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2Froute&page=%2Fapi%2Fproducts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Froute.js&appDir=%2Fhome%2Ftuneeca%2Fweb_app%2FRSQUARE-NextJS%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Ftuneeca%2Fweb_app%2FRSQUARE-NextJS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2Froute&page=%2Fapi%2Fproducts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Froute.js&appDir=%2Fhome%2Ftuneeca%2Fweb_app%2FRSQUARE-NextJS%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Ftuneeca%2Fweb_app%2FRSQUARE-NextJS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_tuneeca_web_app_RSQUARE_NextJS_app_api_products_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/products/route.js */ \"(rsc)/./app/api/products/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/products/route\",\n        pathname: \"/api/products\",\n        filename: \"route\",\n        bundlePath: \"app/api/products/route\"\n    },\n    resolvedPagePath: \"/home/tuneeca/web_app/RSQUARE-NextJS/app/api/products/route.js\",\n    nextConfigOutput,\n    userland: _home_tuneeca_web_app_RSQUARE_NextJS_app_api_products_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/products/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwcm9kdWN0cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcHJvZHVjdHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZwcm9kdWN0cyUyRnJvdXRlLmpzJmFwcERpcj0lMkZob21lJTJGdHVuZWVjYSUyRndlYl9hcHAlMkZSU1FVQVJFLU5leHRKUyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGaG9tZSUyRnR1bmVlY2ElMkZ3ZWJfYXBwJTJGUlNRVUFSRS1OZXh0SlMmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2M7QUFDM0Y7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yc3F1YXJlLz9iYjZmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9ob21lL3R1bmVlY2Evd2ViX2FwcC9SU1FVQVJFLU5leHRKUy9hcHAvYXBpL3Byb2R1Y3RzL3JvdXRlLmpzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wcm9kdWN0cy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3Byb2R1Y3RzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9wcm9kdWN0cy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9ob21lL3R1bmVlY2Evd2ViX2FwcC9SU1FVQVJFLU5leHRKUy9hcHAvYXBpL3Byb2R1Y3RzL3JvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9wcm9kdWN0cy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2Froute&page=%2Fapi%2Fproducts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Froute.js&appDir=%2Fhome%2Ftuneeca%2Fweb_app%2FRSQUARE-NextJS%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Ftuneeca%2Fweb_app%2FRSQUARE-NextJS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/products/route.js":
/*!***********************************!*\
  !*** ./app/api/products/route.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _lib_products__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/products */ \"(rsc)/./lib/products.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.js\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\n\n\nasync function GET() {\n    try {\n        const products = await (0,_lib_products__WEBPACK_IMPORTED_MODULE_0__.getAllProducts)();\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json(products);\n    } catch (error) {\n        console.error(\"Error fetching products:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            error: \"Failed to fetch products\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const productData = await request.json();\n        // Validasi data\n        if (!productData.id || !productData.judul) {\n            return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n                error: \"ID dan Judul wajib diisi\"\n            }, {\n                status: 400\n            });\n        }\n        // Simpan ke database\n        (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.saveProductToDB)(productData);\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            success: true,\n            message: \"Template berhasil disimpan\",\n            productId: productData.id\n        });\n    } catch (error) {\n        console.error(\"Error saving product:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            error: \"Gagal menyimpan template\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3Byb2R1Y3RzL3JvdXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWdEO0FBQ0w7QUFDQTtBQUVwQyxlQUFlRztJQUNwQixJQUFJO1FBQ0YsTUFBTUMsV0FBVyxNQUFNSiw2REFBY0E7UUFDckMsT0FBT0UscURBQVlBLENBQUNHLElBQUksQ0FBQ0Q7SUFDM0IsRUFBRSxPQUFPRSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyw0QkFBNEJBO1FBQzFDLE9BQU9KLHFEQUFZQSxDQUFDRyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUEyQixHQUFHO1lBQUVFLFFBQVE7UUFBSTtJQUNoRjtBQUNGO0FBRU8sZUFBZUMsS0FBS0MsT0FBTztJQUNoQyxJQUFJO1FBQ0YsTUFBTUMsY0FBYyxNQUFNRCxRQUFRTCxJQUFJO1FBRXRDLGdCQUFnQjtRQUNoQixJQUFJLENBQUNNLFlBQVlDLEVBQUUsSUFBSSxDQUFDRCxZQUFZRSxLQUFLLEVBQUU7WUFDekMsT0FBT1gscURBQVlBLENBQUNHLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87WUFBMkIsR0FDcEM7Z0JBQUVFLFFBQVE7WUFBSTtRQUVsQjtRQUVBLHFCQUFxQjtRQUNyQlAsd0RBQWVBLENBQUNVO1FBRWhCLE9BQU9ULHFEQUFZQSxDQUFDRyxJQUFJLENBQUM7WUFDdkJTLFNBQVM7WUFDVEMsU0FBUztZQUNUQyxXQUFXTCxZQUFZQyxFQUFFO1FBQzNCO0lBQ0YsRUFBRSxPQUFPTixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyx5QkFBeUJBO1FBQ3ZDLE9BQU9KLHFEQUFZQSxDQUFDRyxJQUFJLENBQ3RCO1lBQUVDLE9BQU87WUFBNEJXLFNBQVNYLE1BQU1TLE9BQU87UUFBQyxHQUM1RDtZQUFFUCxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3JzcXVhcmUvLi9hcHAvYXBpL3Byb2R1Y3RzL3JvdXRlLmpzP2IwNjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0QWxsUHJvZHVjdHMgfSBmcm9tIFwiQC9saWIvcHJvZHVjdHNcIjtcbmltcG9ydCB7IHNhdmVQcm9kdWN0VG9EQiB9IGZyb20gXCJAL2xpYi9kYlwiO1xuaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBnZXRBbGxQcm9kdWN0cygpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihwcm9kdWN0cyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHByb2R1Y3RzOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiRmFpbGVkIHRvIGZldGNoIHByb2R1Y3RzXCIgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcHJvZHVjdERhdGEgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcblxuICAgIC8vIFZhbGlkYXNpIGRhdGFcbiAgICBpZiAoIXByb2R1Y3REYXRhLmlkIHx8ICFwcm9kdWN0RGF0YS5qdWR1bCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiBcIklEIGRhbiBKdWR1bCB3YWppYiBkaWlzaVwiIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBTaW1wYW4ga2UgZGF0YWJhc2VcbiAgICBzYXZlUHJvZHVjdFRvREIocHJvZHVjdERhdGEpO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBtZXNzYWdlOiBcIlRlbXBsYXRlIGJlcmhhc2lsIGRpc2ltcGFuXCIsXG4gICAgICBwcm9kdWN0SWQ6IHByb2R1Y3REYXRhLmlkLFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzYXZpbmcgcHJvZHVjdDpcIiwgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IFwiR2FnYWwgbWVueWltcGFuIHRlbXBsYXRlXCIsIGRldGFpbHM6IGVycm9yLm1lc3NhZ2UgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJnZXRBbGxQcm9kdWN0cyIsInNhdmVQcm9kdWN0VG9EQiIsIk5leHRSZXNwb25zZSIsIkdFVCIsInByb2R1Y3RzIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsInN0YXR1cyIsIlBPU1QiLCJyZXF1ZXN0IiwicHJvZHVjdERhdGEiLCJpZCIsImp1ZHVsIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJwcm9kdWN0SWQiLCJkZXRhaWxzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/products/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/assetPaths.js":
/*!***************************!*\
  !*** ./lib/assetPaths.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   resolveAssetPath: () => (/* binding */ resolveAssetPath)\n/* harmony export */ });\nfunction resolveAssetPath(value) {\n    if (!value) {\n        return null;\n    }\n    if (value.startsWith(\"http://\") || value.startsWith(\"https://\")) {\n        return value;\n    }\n    if (value.startsWith(\"/\")) {\n        return value;\n    }\n    return `/${value.replace(/^\\.?\\//, \"\")}`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXNzZXRQYXRocy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sU0FBU0EsaUJBQWlCQyxLQUFLO0lBQ3BDLElBQUksQ0FBQ0EsT0FBTztRQUNWLE9BQU87SUFDVDtJQUVBLElBQUlBLE1BQU1DLFVBQVUsQ0FBQyxjQUFjRCxNQUFNQyxVQUFVLENBQUMsYUFBYTtRQUMvRCxPQUFPRDtJQUNUO0lBRUEsSUFBSUEsTUFBTUMsVUFBVSxDQUFDLE1BQU07UUFDekIsT0FBT0Q7SUFDVDtJQUVBLE9BQU8sQ0FBQyxDQUFDLEVBQUVBLE1BQU1FLE9BQU8sQ0FBQyxVQUFVLElBQUksQ0FBQztBQUMxQyIsInNvdXJjZXMiOlsid2VicGFjazovL3JzcXVhcmUvLi9saWIvYXNzZXRQYXRocy5qcz83MDFiIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQXNzZXRQYXRoKHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmICh2YWx1ZS5zdGFydHNXaXRoKFwiaHR0cDovL1wiKSB8fCB2YWx1ZS5zdGFydHNXaXRoKFwiaHR0cHM6Ly9cIikpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBpZiAodmFsdWUuc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gYC8ke3ZhbHVlLnJlcGxhY2UoL15cXC4/XFwvLywgXCJcIil9YDtcbn1cbiJdLCJuYW1lcyI6WyJyZXNvbHZlQXNzZXRQYXRoIiwidmFsdWUiLCJzdGFydHNXaXRoIiwicmVwbGFjZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/assetPaths.js\n");

/***/ }),

/***/ "(rsc)/./lib/db.js":
/*!*******************!*\
  !*** ./lib/db.js ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closeDatabase: () => (/* binding */ closeDatabase),\n/* harmony export */   deleteProductFromDB: () => (/* binding */ deleteProductFromDB),\n/* harmony export */   getAllProductsFromDB: () => (/* binding */ getAllProductsFromDB),\n/* harmony export */   getDatabase: () => (/* binding */ getDatabase),\n/* harmony export */   getProductByIdFromDB: () => (/* binding */ getProductByIdFromDB),\n/* harmony export */   saveProductToDB: () => (/* binding */ saveProductToDB)\n/* harmony export */ });\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! better-sqlite3 */ \"better-sqlite3\");\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(better_sqlite3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\nlet db = null;\nfunction getDatabase() {\n    if (!db) {\n        const dbPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\", \"products.db\");\n        db = new (better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default())(dbPath);\n        db.pragma(\"journal_mode = WAL\");\n        // Create tables if they don't exist\n        db.exec(`\n      CREATE TABLE IF NOT EXISTS products (\n        id TEXT PRIMARY KEY,\n        judul TEXT NOT NULL,\n        deskripsi_singkat TEXT,\n        harga INTEGER DEFAULT 0,\n        gambar_thumbnail TEXT,\n        featured BOOLEAN DEFAULT 0,\n        created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n        updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n      );\n\n      CREATE TABLE IF NOT EXISTS product_details (\n        product_id TEXT PRIMARY KEY,\n        gambar_utama TEXT,\n        deskripsi_lengkap TEXT,\n        link_preview_detail TEXT,\n        link_payment_gateway TEXT,\n        link_youtube TEXT,\n        file_panduan TEXT,\n        FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE CASCADE\n      );\n\n      CREATE TABLE IF NOT EXISTS product_links (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        product_id TEXT NOT NULL,\n        platform TEXT NOT NULL,\n        url TEXT NOT NULL,\n        FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE CASCADE\n      );\n\n      CREATE TABLE IF NOT EXISTS product_gallery (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        product_id TEXT NOT NULL,\n        judul TEXT NOT NULL,\n        deskripsi TEXT,\n        gambar TEXT NOT NULL,\n        sort_order INTEGER DEFAULT 0,\n        FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE CASCADE\n      );\n\n      CREATE TABLE IF NOT EXISTS product_seo (\n        product_id TEXT PRIMARY KEY,\n        meta_title TEXT,\n        meta_description TEXT,\n        FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE CASCADE\n      );\n\n      CREATE INDEX IF NOT EXISTS idx_products_featured ON products(featured);\n      CREATE INDEX IF NOT EXISTS idx_products_harga ON products(harga);\n      CREATE INDEX IF NOT EXISTS idx_gallery_product ON product_gallery(product_id);\n      CREATE INDEX IF NOT EXISTS idx_links_product ON product_links(product_id);\n    `);\n    }\n    return db;\n}\nfunction closeDatabase() {\n    if (db) {\n        db.close();\n        db = null;\n    }\n}\n// Helper functions for CRUD operations\nfunction getAllProductsFromDB() {\n    const db = getDatabase();\n    const products = db.prepare(`\n    SELECT * FROM products ORDER BY created_at DESC\n  `).all();\n    return products.map((product)=>{\n        const detail = db.prepare(`SELECT * FROM product_details WHERE product_id = ?`).get(product.id);\n        const links = db.prepare(`SELECT platform, url FROM product_links WHERE product_id = ?`).all(product.id);\n        const gallery = db.prepare(`SELECT judul, deskripsi, gambar FROM product_gallery WHERE product_id = ? ORDER BY sort_order`).all(product.id);\n        const seo = db.prepare(`SELECT meta_title, meta_description FROM product_seo WHERE product_id = ?`).get(product.id);\n        return {\n            id: product.id,\n            judul: product.judul,\n            deskripsi_singkat: product.deskripsi_singkat,\n            harga: product.harga,\n            gambar_thumbnail: product.gambar_thumbnail,\n            featured: Boolean(product.featured),\n            detail: detail ? {\n                gambar_utama: detail.gambar_utama,\n                deskripsi_lengkap: detail.deskripsi_lengkap,\n                link_preview_detail: detail.link_preview_detail,\n                link_payment_gateway: detail.link_payment_gateway,\n                link_youtube: detail.link_youtube,\n                file_panduan: detail.file_panduan,\n                link_pembelian: links,\n                galeri: gallery\n            } : null,\n            seo: seo || null\n        };\n    });\n}\nfunction getProductByIdFromDB(id) {\n    const db = getDatabase();\n    const product = db.prepare(`SELECT * FROM products WHERE id = ?`).get(id);\n    if (!product) return null;\n    const detail = db.prepare(`SELECT * FROM product_details WHERE product_id = ?`).get(id);\n    const links = db.prepare(`SELECT platform, url FROM product_links WHERE product_id = ?`).all(id);\n    const gallery = db.prepare(`SELECT judul, deskripsi, gambar FROM product_gallery WHERE product_id = ? ORDER BY sort_order`).all(id);\n    const seo = db.prepare(`SELECT meta_title, meta_description FROM product_seo WHERE product_id = ?`).get(id);\n    return {\n        id: product.id,\n        judul: product.judul,\n        deskripsi_singkat: product.deskripsi_singkat,\n        harga: product.harga,\n        gambar_thumbnail: product.gambar_thumbnail,\n        featured: Boolean(product.featured),\n        detail: detail ? {\n            gambar_utama: detail.gambar_utama,\n            deskripsi_lengkap: detail.deskripsi_lengkap,\n            link_preview_detail: detail.link_preview_detail,\n            link_payment_gateway: detail.link_payment_gateway,\n            link_youtube: detail.link_youtube,\n            file_panduan: detail.file_panduan,\n            link_pembelian: links,\n            galeri: gallery\n        } : null,\n        seo: seo || null\n    };\n}\nfunction saveProductToDB(productData) {\n    const db = getDatabase();\n    // Start transaction\n    const insertProduct = db.transaction(()=>{\n        // Insert or update main product\n        db.prepare(`\n      INSERT INTO products (id, judul, deskripsi_singkat, harga, gambar_thumbnail, featured, updated_at)\n      VALUES (?, ?, ?, ?, ?, ?, CURRENT_TIMESTAMP)\n      ON CONFLICT(id) DO UPDATE SET\n        judul = excluded.judul,\n        deskripsi_singkat = excluded.deskripsi_singkat,\n        harga = excluded.harga,\n        gambar_thumbnail = excluded.gambar_thumbnail,\n        featured = excluded.featured,\n        updated_at = CURRENT_TIMESTAMP\n    `).run(productData.id, productData.judul, productData.deskripsi_singkat, productData.harga, productData.gambar_thumbnail, productData.featured ? 1 : 0);\n        // Delete existing related data\n        db.prepare(`DELETE FROM product_details WHERE product_id = ?`).run(productData.id);\n        db.prepare(`DELETE FROM product_links WHERE product_id = ?`).run(productData.id);\n        db.prepare(`DELETE FROM product_gallery WHERE product_id = ?`).run(productData.id);\n        db.prepare(`DELETE FROM product_seo WHERE product_id = ?`).run(productData.id);\n        // Insert product details\n        if (productData.detail) {\n            db.prepare(`\n        INSERT INTO product_details (product_id, gambar_utama, deskripsi_lengkap, link_preview_detail, link_payment_gateway, link_youtube, file_panduan)\n        VALUES (?, ?, ?, ?, ?, ?, ?)\n      `).run(productData.id, productData.detail.gambar_utama || null, productData.detail.deskripsi_lengkap || null, productData.detail.link_preview_detail || null, productData.detail.link_payment_gateway || null, productData.detail.link_youtube || null, productData.detail.file_panduan || null);\n            // Insert links\n            if (productData.detail.link_pembelian) {\n                const insertLink = db.prepare(`INSERT INTO product_links (product_id, platform, url) VALUES (?, ?, ?)`);\n                productData.detail.link_pembelian.forEach((link)=>{\n                    insertLink.run(productData.id, link.platform, link.url);\n                });\n            }\n            // Insert gallery\n            if (productData.detail.galeri) {\n                const insertGallery = db.prepare(`INSERT INTO product_gallery (product_id, judul, deskripsi, gambar, sort_order) VALUES (?, ?, ?, ?, ?)`);\n                productData.detail.galeri.forEach((item, index)=>{\n                    insertGallery.run(productData.id, item.judul, item.deskripsi || null, item.gambar, index);\n                });\n            }\n        }\n        // Insert SEO\n        if (productData.seo) {\n            db.prepare(`\n        INSERT INTO product_seo (product_id, meta_title, meta_description)\n        VALUES (?, ?, ?)\n      `).run(productData.id, productData.seo.meta_title || null, productData.seo.meta_description || null);\n        }\n    });\n    insertProduct();\n    return true;\n}\nfunction deleteProductFromDB(id) {\n    const db = getDatabase();\n    const result = db.prepare(`DELETE FROM products WHERE id = ?`).run(id);\n    return result.changes > 0;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQUcsRUFBRTtZQUNuQnJCLEdBQUdZLE9BQU8sQ0FBQyxDQUFDOzs7TUFHWixDQUFDLEVBQUU2QixHQUFHLENBQUNILFlBQVlwQixFQUFFLEVBQUVvQixZQUFZakIsR0FBRyxDQUFDK0IsVUFBVSxJQUFJLE1BQU1kLFlBQVlqQixHQUFHLENBQUNnQyxnQkFBZ0IsSUFBSTtRQUNqRztJQUNGO0lBRUFkO0lBQ0EsT0FBTztBQUNUO0FBRU8sU0FBU2Usb0JBQW9CcEMsRUFBRTtJQUNwQyxNQUFNbEIsS0FBS0M7SUFDWCxNQUFNc0QsU0FBU3ZELEdBQUdZLE9BQU8sQ0FBQyxDQUFDLGlDQUFpQyxDQUFDLEVBQUU2QixHQUFHLENBQUN2QjtJQUNuRSxPQUFPcUMsT0FBT0MsT0FBTyxHQUFHO0FBQzFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcnNxdWFyZS8uL2xpYi9kYi5qcz8zZGM5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEYXRhYmFzZSBmcm9tIFwiYmV0dGVyLXNxbGl0ZTNcIjtcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5cbmxldCBkYiA9IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREYXRhYmFzZSgpIHtcbiAgaWYgKCFkYikge1xuICAgIGNvbnN0IGRiUGF0aCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCBcImRhdGFcIiwgXCJwcm9kdWN0cy5kYlwiKTtcbiAgICBkYiA9IG5ldyBEYXRhYmFzZShkYlBhdGgpO1xuICAgIGRiLnByYWdtYShcImpvdXJuYWxfbW9kZSA9IFdBTFwiKTtcblxuICAgIC8vIENyZWF0ZSB0YWJsZXMgaWYgdGhleSBkb24ndCBleGlzdFxuICAgIGRiLmV4ZWMoYFxuICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgcHJvZHVjdHMgKFxuICAgICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgICBqdWR1bCBURVhUIE5PVCBOVUxMLFxuICAgICAgICBkZXNrcmlwc2lfc2luZ2thdCBURVhULFxuICAgICAgICBoYXJnYSBJTlRFR0VSIERFRkFVTFQgMCxcbiAgICAgICAgZ2FtYmFyX3RodW1ibmFpbCBURVhULFxuICAgICAgICBmZWF0dXJlZCBCT09MRUFOIERFRkFVTFQgMCxcbiAgICAgICAgY3JlYXRlZF9hdCBEQVRFVElNRSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLFxuICAgICAgICB1cGRhdGVkX2F0IERBVEVUSU1FIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVBcbiAgICAgICk7XG5cbiAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHByb2R1Y3RfZGV0YWlscyAoXG4gICAgICAgIHByb2R1Y3RfaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgICAgZ2FtYmFyX3V0YW1hIFRFWFQsXG4gICAgICAgIGRlc2tyaXBzaV9sZW5na2FwIFRFWFQsXG4gICAgICAgIGxpbmtfcHJldmlld19kZXRhaWwgVEVYVCxcbiAgICAgICAgbGlua19wYXltZW50X2dhdGV3YXkgVEVYVCxcbiAgICAgICAgbGlua195b3V0dWJlIFRFWFQsXG4gICAgICAgIGZpbGVfcGFuZHVhbiBURVhULFxuICAgICAgICBGT1JFSUdOIEtFWSAocHJvZHVjdF9pZCkgUkVGRVJFTkNFUyBwcm9kdWN0cyhpZCkgT04gREVMRVRFIENBU0NBREVcbiAgICAgICk7XG5cbiAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHByb2R1Y3RfbGlua3MgKFxuICAgICAgICBpZCBJTlRFR0VSIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsXG4gICAgICAgIHByb2R1Y3RfaWQgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgcGxhdGZvcm0gVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgdXJsIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIEZPUkVJR04gS0VZIChwcm9kdWN0X2lkKSBSRUZFUkVOQ0VTIHByb2R1Y3RzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERVxuICAgICAgKTtcblxuICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgcHJvZHVjdF9nYWxsZXJ5IChcbiAgICAgICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULFxuICAgICAgICBwcm9kdWN0X2lkIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIGp1ZHVsIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIGRlc2tyaXBzaSBURVhULFxuICAgICAgICBnYW1iYXIgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgc29ydF9vcmRlciBJTlRFR0VSIERFRkFVTFQgMCxcbiAgICAgICAgRk9SRUlHTiBLRVkgKHByb2R1Y3RfaWQpIFJFRkVSRU5DRVMgcHJvZHVjdHMoaWQpIE9OIERFTEVURSBDQVNDQURFXG4gICAgICApO1xuXG4gICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBwcm9kdWN0X3NlbyAoXG4gICAgICAgIHByb2R1Y3RfaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgICAgbWV0YV90aXRsZSBURVhULFxuICAgICAgICBtZXRhX2Rlc2NyaXB0aW9uIFRFWFQsXG4gICAgICAgIEZPUkVJR04gS0VZIChwcm9kdWN0X2lkKSBSRUZFUkVOQ0VTIHByb2R1Y3RzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERVxuICAgICAgKTtcblxuICAgICAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X3Byb2R1Y3RzX2ZlYXR1cmVkIE9OIHByb2R1Y3RzKGZlYXR1cmVkKTtcbiAgICAgIENSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9wcm9kdWN0c19oYXJnYSBPTiBwcm9kdWN0cyhoYXJnYSk7XG4gICAgICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfZ2FsbGVyeV9wcm9kdWN0IE9OIHByb2R1Y3RfZ2FsbGVyeShwcm9kdWN0X2lkKTtcbiAgICAgIENSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9saW5rc19wcm9kdWN0IE9OIHByb2R1Y3RfbGlua3MocHJvZHVjdF9pZCk7XG4gICAgYCk7XG4gIH1cbiAgcmV0dXJuIGRiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VEYXRhYmFzZSgpIHtcbiAgaWYgKGRiKSB7XG4gICAgZGIuY2xvc2UoKTtcbiAgICBkYiA9IG51bGw7XG4gIH1cbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9ucyBmb3IgQ1JVRCBvcGVyYXRpb25zXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsUHJvZHVjdHNGcm9tREIoKSB7XG4gIGNvbnN0IGRiID0gZ2V0RGF0YWJhc2UoKTtcbiAgY29uc3QgcHJvZHVjdHMgPSBkYi5wcmVwYXJlKGBcbiAgICBTRUxFQ1QgKiBGUk9NIHByb2R1Y3RzIE9SREVSIEJZIGNyZWF0ZWRfYXQgREVTQ1xuICBgKS5hbGwoKTtcblxuICByZXR1cm4gcHJvZHVjdHMubWFwKHByb2R1Y3QgPT4ge1xuICAgIGNvbnN0IGRldGFpbCA9IGRiLnByZXBhcmUoYFNFTEVDVCAqIEZST00gcHJvZHVjdF9kZXRhaWxzIFdIRVJFIHByb2R1Y3RfaWQgPSA/YCkuZ2V0KHByb2R1Y3QuaWQpO1xuICAgIGNvbnN0IGxpbmtzID0gZGIucHJlcGFyZShgU0VMRUNUIHBsYXRmb3JtLCB1cmwgRlJPTSBwcm9kdWN0X2xpbmtzIFdIRVJFIHByb2R1Y3RfaWQgPSA/YCkuYWxsKHByb2R1Y3QuaWQpO1xuICAgIGNvbnN0IGdhbGxlcnkgPSBkYi5wcmVwYXJlKGBTRUxFQ1QganVkdWwsIGRlc2tyaXBzaSwgZ2FtYmFyIEZST00gcHJvZHVjdF9nYWxsZXJ5IFdIRVJFIHByb2R1Y3RfaWQgPSA/IE9SREVSIEJZIHNvcnRfb3JkZXJgKS5hbGwocHJvZHVjdC5pZCk7XG4gICAgY29uc3Qgc2VvID0gZGIucHJlcGFyZShgU0VMRUNUIG1ldGFfdGl0bGUsIG1ldGFfZGVzY3JpcHRpb24gRlJPTSBwcm9kdWN0X3NlbyBXSEVSRSBwcm9kdWN0X2lkID0gP2ApLmdldChwcm9kdWN0LmlkKTtcblxuICAgIHJldHVybiB7XG4gICAgICBpZDogcHJvZHVjdC5pZCxcbiAgICAgIGp1ZHVsOiBwcm9kdWN0Lmp1ZHVsLFxuICAgICAgZGVza3JpcHNpX3NpbmdrYXQ6IHByb2R1Y3QuZGVza3JpcHNpX3NpbmdrYXQsXG4gICAgICBoYXJnYTogcHJvZHVjdC5oYXJnYSxcbiAgICAgIGdhbWJhcl90aHVtYm5haWw6IHByb2R1Y3QuZ2FtYmFyX3RodW1ibmFpbCxcbiAgICAgIGZlYXR1cmVkOiBCb29sZWFuKHByb2R1Y3QuZmVhdHVyZWQpLFxuICAgICAgZGV0YWlsOiBkZXRhaWwgPyB7XG4gICAgICAgIGdhbWJhcl91dGFtYTogZGV0YWlsLmdhbWJhcl91dGFtYSxcbiAgICAgICAgZGVza3JpcHNpX2xlbmdrYXA6IGRldGFpbC5kZXNrcmlwc2lfbGVuZ2thcCxcbiAgICAgICAgbGlua19wcmV2aWV3X2RldGFpbDogZGV0YWlsLmxpbmtfcHJldmlld19kZXRhaWwsXG4gICAgICAgIGxpbmtfcGF5bWVudF9nYXRld2F5OiBkZXRhaWwubGlua19wYXltZW50X2dhdGV3YXksXG4gICAgICAgIGxpbmtfeW91dHViZTogZGV0YWlsLmxpbmtfeW91dHViZSxcbiAgICAgICAgZmlsZV9wYW5kdWFuOiBkZXRhaWwuZmlsZV9wYW5kdWFuLFxuICAgICAgICBsaW5rX3BlbWJlbGlhbjogbGlua3MsXG4gICAgICAgIGdhbGVyaTogZ2FsbGVyeSxcbiAgICAgIH0gOiBudWxsLFxuICAgICAgc2VvOiBzZW8gfHwgbnVsbCxcbiAgICB9O1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFByb2R1Y3RCeUlkRnJvbURCKGlkKSB7XG4gIGNvbnN0IGRiID0gZ2V0RGF0YWJhc2UoKTtcbiAgY29uc3QgcHJvZHVjdCA9IGRiLnByZXBhcmUoYFNFTEVDVCAqIEZST00gcHJvZHVjdHMgV0hFUkUgaWQgPSA/YCkuZ2V0KGlkKTtcblxuICBpZiAoIXByb2R1Y3QpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IGRldGFpbCA9IGRiLnByZXBhcmUoYFNFTEVDVCAqIEZST00gcHJvZHVjdF9kZXRhaWxzIFdIRVJFIHByb2R1Y3RfaWQgPSA/YCkuZ2V0KGlkKTtcbiAgY29uc3QgbGlua3MgPSBkYi5wcmVwYXJlKGBTRUxFQ1QgcGxhdGZvcm0sIHVybCBGUk9NIHByb2R1Y3RfbGlua3MgV0hFUkUgcHJvZHVjdF9pZCA9ID9gKS5hbGwoaWQpO1xuICBjb25zdCBnYWxsZXJ5ID0gZGIucHJlcGFyZShgU0VMRUNUIGp1ZHVsLCBkZXNrcmlwc2ksIGdhbWJhciBGUk9NIHByb2R1Y3RfZ2FsbGVyeSBXSEVSRSBwcm9kdWN0X2lkID0gPyBPUkRFUiBCWSBzb3J0X29yZGVyYCkuYWxsKGlkKTtcbiAgY29uc3Qgc2VvID0gZGIucHJlcGFyZShgU0VMRUNUIG1ldGFfdGl0bGUsIG1ldGFfZGVzY3JpcHRpb24gRlJPTSBwcm9kdWN0X3NlbyBXSEVSRSBwcm9kdWN0X2lkID0gP2ApLmdldChpZCk7XG5cbiAgcmV0dXJuIHtcbiAgICBpZDogcHJvZHVjdC5pZCxcbiAgICBqdWR1bDogcHJvZHVjdC5qdWR1bCxcbiAgICBkZXNrcmlwc2lfc2luZ2thdDogcHJvZHVjdC5kZXNrcmlwc2lfc2luZ2thdCxcbiAgICBoYXJnYTogcHJvZHVjdC5oYXJnYSxcbiAgICBnYW1iYXJfdGh1bWJuYWlsOiBwcm9kdWN0LmdhbWJhcl90aHVtYm5haWwsXG4gICAgZmVhdHVyZWQ6IEJvb2xlYW4ocHJvZHVjdC5mZWF0dXJlZCksXG4gICAgZGV0YWlsOiBkZXRhaWwgPyB7XG4gICAgICBnYW1iYXJfdXRhbWE6IGRldGFpbC5nYW1iYXJfdXRhbWEsXG4gICAgICBkZXNrcmlwc2lfbGVuZ2thcDogZGV0YWlsLmRlc2tyaXBzaV9sZW5na2FwLFxuICAgICAgbGlua19wcmV2aWV3X2RldGFpbDogZGV0YWlsLmxpbmtfcHJldmlld19kZXRhaWwsXG4gICAgICBsaW5rX3BheW1lbnRfZ2F0ZXdheTogZGV0YWlsLmxpbmtfcGF5bWVudF9nYXRld2F5LFxuICAgICAgbGlua195b3V0dWJlOiBkZXRhaWwubGlua195b3V0dWJlLFxuICAgICAgZmlsZV9wYW5kdWFuOiBkZXRhaWwuZmlsZV9wYW5kdWFuLFxuICAgICAgbGlua19wZW1iZWxpYW46IGxpbmtzLFxuICAgICAgZ2FsZXJpOiBnYWxsZXJ5LFxuICAgIH0gOiBudWxsLFxuICAgIHNlbzogc2VvIHx8IG51bGwsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXZlUHJvZHVjdFRvREIocHJvZHVjdERhdGEpIHtcbiAgY29uc3QgZGIgPSBnZXREYXRhYmFzZSgpO1xuXG4gIC8vIFN0YXJ0IHRyYW5zYWN0aW9uXG4gIGNvbnN0IGluc2VydFByb2R1Y3QgPSBkYi50cmFuc2FjdGlvbigoKSA9PiB7XG4gICAgLy8gSW5zZXJ0IG9yIHVwZGF0ZSBtYWluIHByb2R1Y3RcbiAgICBkYi5wcmVwYXJlKGBcbiAgICAgIElOU0VSVCBJTlRPIHByb2R1Y3RzIChpZCwganVkdWwsIGRlc2tyaXBzaV9zaW5na2F0LCBoYXJnYSwgZ2FtYmFyX3RodW1ibmFpbCwgZmVhdHVyZWQsIHVwZGF0ZWRfYXQpXG4gICAgICBWQUxVRVMgKD8sID8sID8sID8sID8sID8sIENVUlJFTlRfVElNRVNUQU1QKVxuICAgICAgT04gQ09ORkxJQ1QoaWQpIERPIFVQREFURSBTRVRcbiAgICAgICAganVkdWwgPSBleGNsdWRlZC5qdWR1bCxcbiAgICAgICAgZGVza3JpcHNpX3NpbmdrYXQgPSBleGNsdWRlZC5kZXNrcmlwc2lfc2luZ2thdCxcbiAgICAgICAgaGFyZ2EgPSBleGNsdWRlZC5oYXJnYSxcbiAgICAgICAgZ2FtYmFyX3RodW1ibmFpbCA9IGV4Y2x1ZGVkLmdhbWJhcl90aHVtYm5haWwsXG4gICAgICAgIGZlYXR1cmVkID0gZXhjbHVkZWQuZmVhdHVyZWQsXG4gICAgICAgIHVwZGF0ZWRfYXQgPSBDVVJSRU5UX1RJTUVTVEFNUFxuICAgIGApLnJ1bihcbiAgICAgIHByb2R1Y3REYXRhLmlkLFxuICAgICAgcHJvZHVjdERhdGEuanVkdWwsXG4gICAgICBwcm9kdWN0RGF0YS5kZXNrcmlwc2lfc2luZ2thdCxcbiAgICAgIHByb2R1Y3REYXRhLmhhcmdhLFxuICAgICAgcHJvZHVjdERhdGEuZ2FtYmFyX3RodW1ibmFpbCxcbiAgICAgIHByb2R1Y3REYXRhLmZlYXR1cmVkID8gMSA6IDBcbiAgICApO1xuXG4gICAgLy8gRGVsZXRlIGV4aXN0aW5nIHJlbGF0ZWQgZGF0YVxuICAgIGRiLnByZXBhcmUoYERFTEVURSBGUk9NIHByb2R1Y3RfZGV0YWlscyBXSEVSRSBwcm9kdWN0X2lkID0gP2ApLnJ1bihwcm9kdWN0RGF0YS5pZCk7XG4gICAgZGIucHJlcGFyZShgREVMRVRFIEZST00gcHJvZHVjdF9saW5rcyBXSEVSRSBwcm9kdWN0X2lkID0gP2ApLnJ1bihwcm9kdWN0RGF0YS5pZCk7XG4gICAgZGIucHJlcGFyZShgREVMRVRFIEZST00gcHJvZHVjdF9nYWxsZXJ5IFdIRVJFIHByb2R1Y3RfaWQgPSA/YCkucnVuKHByb2R1Y3REYXRhLmlkKTtcbiAgICBkYi5wcmVwYXJlKGBERUxFVEUgRlJPTSBwcm9kdWN0X3NlbyBXSEVSRSBwcm9kdWN0X2lkID0gP2ApLnJ1bihwcm9kdWN0RGF0YS5pZCk7XG5cbiAgICAvLyBJbnNlcnQgcHJvZHVjdCBkZXRhaWxzXG4gICAgaWYgKHByb2R1Y3REYXRhLmRldGFpbCkge1xuICAgICAgZGIucHJlcGFyZShgXG4gICAgICAgIElOU0VSVCBJTlRPIHByb2R1Y3RfZGV0YWlscyAocHJvZHVjdF9pZCwgZ2FtYmFyX3V0YW1hLCBkZXNrcmlwc2lfbGVuZ2thcCwgbGlua19wcmV2aWV3X2RldGFpbCwgbGlua19wYXltZW50X2dhdGV3YXksIGxpbmtfeW91dHViZSwgZmlsZV9wYW5kdWFuKVxuICAgICAgICBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8pXG4gICAgICBgKS5ydW4oXG4gICAgICAgIHByb2R1Y3REYXRhLmlkLFxuICAgICAgICBwcm9kdWN0RGF0YS5kZXRhaWwuZ2FtYmFyX3V0YW1hIHx8IG51bGwsXG4gICAgICAgIHByb2R1Y3REYXRhLmRldGFpbC5kZXNrcmlwc2lfbGVuZ2thcCB8fCBudWxsLFxuICAgICAgICBwcm9kdWN0RGF0YS5kZXRhaWwubGlua19wcmV2aWV3X2RldGFpbCB8fCBudWxsLFxuICAgICAgICBwcm9kdWN0RGF0YS5kZXRhaWwubGlua19wYXltZW50X2dhdGV3YXkgfHwgbnVsbCxcbiAgICAgICAgcHJvZHVjdERhdGEuZGV0YWlsLmxpbmtfeW91dHViZSB8fCBudWxsLFxuICAgICAgICBwcm9kdWN0RGF0YS5kZXRhaWwuZmlsZV9wYW5kdWFuIHx8IG51bGxcbiAgICAgICk7XG5cbiAgICAgIC8vIEluc2VydCBsaW5rc1xuICAgICAgaWYgKHByb2R1Y3REYXRhLmRldGFpbC5saW5rX3BlbWJlbGlhbikge1xuICAgICAgICBjb25zdCBpbnNlcnRMaW5rID0gZGIucHJlcGFyZShgSU5TRVJUIElOVE8gcHJvZHVjdF9saW5rcyAocHJvZHVjdF9pZCwgcGxhdGZvcm0sIHVybCkgVkFMVUVTICg/LCA/LCA/KWApO1xuICAgICAgICBwcm9kdWN0RGF0YS5kZXRhaWwubGlua19wZW1iZWxpYW4uZm9yRWFjaChsaW5rID0+IHtcbiAgICAgICAgICBpbnNlcnRMaW5rLnJ1bihwcm9kdWN0RGF0YS5pZCwgbGluay5wbGF0Zm9ybSwgbGluay51cmwpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gSW5zZXJ0IGdhbGxlcnlcbiAgICAgIGlmIChwcm9kdWN0RGF0YS5kZXRhaWwuZ2FsZXJpKSB7XG4gICAgICAgIGNvbnN0IGluc2VydEdhbGxlcnkgPSBkYi5wcmVwYXJlKGBJTlNFUlQgSU5UTyBwcm9kdWN0X2dhbGxlcnkgKHByb2R1Y3RfaWQsIGp1ZHVsLCBkZXNrcmlwc2ksIGdhbWJhciwgc29ydF9vcmRlcikgVkFMVUVTICg/LCA/LCA/LCA/LCA/KWApO1xuICAgICAgICBwcm9kdWN0RGF0YS5kZXRhaWwuZ2FsZXJpLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgaW5zZXJ0R2FsbGVyeS5ydW4ocHJvZHVjdERhdGEuaWQsIGl0ZW0uanVkdWwsIGl0ZW0uZGVza3JpcHNpIHx8IG51bGwsIGl0ZW0uZ2FtYmFyLCBpbmRleCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEluc2VydCBTRU9cbiAgICBpZiAocHJvZHVjdERhdGEuc2VvKSB7XG4gICAgICBkYi5wcmVwYXJlKGBcbiAgICAgICAgSU5TRVJUIElOVE8gcHJvZHVjdF9zZW8gKHByb2R1Y3RfaWQsIG1ldGFfdGl0bGUsIG1ldGFfZGVzY3JpcHRpb24pXG4gICAgICAgIFZBTFVFUyAoPywgPywgPylcbiAgICAgIGApLnJ1bihwcm9kdWN0RGF0YS5pZCwgcHJvZHVjdERhdGEuc2VvLm1ldGFfdGl0bGUgfHwgbnVsbCwgcHJvZHVjdERhdGEuc2VvLm1ldGFfZGVzY3JpcHRpb24gfHwgbnVsbCk7XG4gICAgfVxuICB9KTtcblxuICBpbnNlcnRQcm9kdWN0KCk7XG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlUHJvZHVjdEZyb21EQihpZCkge1xuICBjb25zdCBkYiA9IGdldERhdGFiYXNlKCk7XG4gIGNvbnN0IHJlc3VsdCA9IGRiLnByZXBhcmUoYERFTEVURSBGUk9NIHByb2R1Y3RzIFdIRVJFIGlkID0gP2ApLnJ1bihpZCk7XG4gIHJldHVybiByZXN1bHQuY2hhbmdlcyA+IDA7XG59XG4iXSwibmFtZXMiOlsiRGF0YWJhc2UiLCJwYXRoIiwiZGIiLCJnZXREYXRhYmFzZSIsImRiUGF0aCIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwicHJhZ21hIiwiZXhlYyIsImNsb3NlRGF0YWJhc2UiLCJjbG9zZSIsImdldEFsbFByb2R1Y3RzRnJvbURCIiwicHJvZHVjdHMiLCJwcmVwYXJlIiwiYWxsIiwibWFwIiwicHJvZHVjdCIsImRldGFpbCIsImdldCIsImlkIiwibGlua3MiLCJnYWxsZXJ5Iiwic2VvIiwianVkdWwiLCJkZXNrcmlwc2lfc2luZ2thdCIsImhhcmdhIiwiZ2FtYmFyX3RodW1ibmFpbCIsImZlYXR1cmVkIiwiQm9vbGVhbiIsImdhbWJhcl91dGFtYSIsImRlc2tyaXBzaV9sZW5na2FwIiwibGlua19wcmV2aWV3X2RldGFpbCIsImxpbmtfcGF5bWVudF9nYXRld2F5IiwibGlua195b3V0dWJlIiwiZmlsZV9wYW5kdWFuIiwibGlua19wZW1iZWxpYW4iLCJnYWxlcmkiLCJnZXRQcm9kdWN0QnlJZEZyb21EQiIsInNhdmVQcm9kdWN0VG9EQiIsInByb2R1Y3REYXRhIiwiaW5zZXJ0UHJvZHVjdCIsInRyYW5zYWN0aW9uIiwicnVuIiwiaW5zZXJ0TGluayIsImZvckVhY2giLCJsaW5rIiwicGxhdGZvcm0iLCJ1cmwiLCJpbnNlcnRHYWxsZXJ5IiwiaXRlbSIsImluZGV4IiwiZGVza3JpcHNpIiwiZ2FtYmFyIiwibWV0YV90aXRsZSIsIm1ldGFfZGVzY3JpcHRpb24iLCJkZWxldGVQcm9kdWN0RnJvbURCIiwicmVzdWx0IiwiY2hhbmdlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.js\n");

/***/ }),

/***/ "(rsc)/./lib/products.js":
/*!*************************!*\
  !*** ./lib/products.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAllProducts: () => (/* binding */ getAllProducts),\n/* harmony export */   getFeaturedProducts: () => (/* binding */ getFeaturedProducts),\n/* harmony export */   getFreeProducts: () => (/* binding */ getFreeProducts),\n/* harmony export */   getNonFreeProducts: () => (/* binding */ getNonFreeProducts),\n/* harmony export */   getProductById: () => (/* binding */ getProductById),\n/* harmony export */   getProductMetadataList: () => (/* binding */ getProductMetadataList)\n/* harmony export */ });\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _assetPaths__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./assetPaths */ \"(rsc)/./lib/assetPaths.js\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./db */ \"(rsc)/./lib/db.js\");\n\n\n\n\nconst ROOT_DIR = process.cwd();\nconst CONTENT_DIR = path__WEBPACK_IMPORTED_MODULE_1___default().join(ROOT_DIR, \"content\");\nconst PRODUCTS_DIR = path__WEBPACK_IMPORTED_MODULE_1___default().join(CONTENT_DIR, \"produk\");\nconst HOMEPAGE_DATA_PATH = path__WEBPACK_IMPORTED_MODULE_1___default().join(ROOT_DIR, \"_data\", \"homepage.json\");\nconst TEMPLATE_ORDER_PATH = path__WEBPACK_IMPORTED_MODULE_1___default().join(ROOT_DIR, \"_data\", \"template_order.json\");\n// Use database or fallback to JSON files\nconst USE_DATABASE = true;\nasync function readJson(filePath) {\n    try {\n        const data = await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().readFile(filePath, \"utf8\");\n        return JSON.parse(data);\n    } catch (error) {\n        if (error.code === \"ENOENT\") {\n            return null;\n        }\n        throw error;\n    }\n}\nasync function getProductSlugs() {\n    const entries = await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().readdir(PRODUCTS_DIR);\n    return entries.filter((file)=>file.endsWith(\".json\")).map((file)=>file.replace(/\\.json$/, \"\"));\n}\nasync function getProductById(id) {\n    // Try database first\n    if (USE_DATABASE) {\n        try {\n            const product = (0,_db__WEBPACK_IMPORTED_MODULE_3__.getProductByIdFromDB)(id);\n            if (product) return product;\n        } catch (error) {\n            console.warn(\"Database error, falling back to JSON:\", error.message);\n        }\n    }\n    // Fallback to JSON files\n    const filePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(PRODUCTS_DIR, `${id}.json`);\n    const product = await readJson(filePath);\n    if (!product) {\n        return null;\n    }\n    return {\n        ...product,\n        id: product.id ?? id\n    };\n}\nasync function getAllProducts() {\n    // Try database first\n    if (USE_DATABASE) {\n        try {\n            const products = (0,_db__WEBPACK_IMPORTED_MODULE_3__.getAllProductsFromDB)();\n            if (products && products.length > 0) {\n                // Sort by created_at descending (newest first)\n                return products.sort((a, b)=>{\n                    // If you want to maintain template order, you can still apply it here\n                    return a.judul.localeCompare(b.judul, \"id\");\n                });\n            }\n        } catch (error) {\n            console.warn(\"Database error, falling back to JSON:\", error.message);\n        }\n    }\n    // Fallback to JSON files\n    const slugs = await getProductSlugs();\n    const products = await Promise.all(slugs.map((slug)=>getProductById(slug)));\n    const filtered = products.filter(Boolean);\n    const templateOrder = await readJson(TEMPLATE_ORDER_PATH);\n    const orderedSlugs = templateOrder?.urutan_produk?.map((item)=>item.produk) ?? [];\n    const orderMap = new Map(orderedSlugs.map((slug, index)=>[\n            slug,\n            index\n        ]));\n    return filtered.sort((a, b)=>{\n        const aIndex = orderMap.has(a.id) ? orderMap.get(a.id) : Infinity;\n        const bIndex = orderMap.has(b.id) ? orderMap.get(b.id) : Infinity;\n        if (aIndex !== bIndex) {\n            return aIndex - bIndex;\n        }\n        return a.judul.localeCompare(b.judul, \"id\");\n    });\n}\nasync function getFeaturedProducts() {\n    // Try database first\n    if (USE_DATABASE) {\n        try {\n            const allProducts = (0,_db__WEBPACK_IMPORTED_MODULE_3__.getAllProductsFromDB)();\n            if (allProducts && allProducts.length > 0) {\n                // Filter products where featured is true\n                const featuredProducts = allProducts.filter((product)=>product.featured === true || product.featured === 1);\n                if (featuredProducts.length > 0) {\n                    return featuredProducts;\n                }\n            }\n        } catch (error) {\n            console.warn(\"Database error, falling back to JSON:\", error.message);\n        }\n    }\n    // Fallback to JSON files\n    const homepageSettings = await readJson(HOMEPAGE_DATA_PATH);\n    const featuredSlugs = homepageSettings?.produk_unggulan ?? [];\n    const products = await Promise.all(featuredSlugs.map((slug)=>getProductById(slug)));\n    return products.filter(Boolean);\n}\nasync function getFreeProducts() {\n    const allProducts = await getAllProducts();\n    return allProducts.filter((product)=>Number(product.harga) === 0);\n}\nasync function getNonFreeProducts() {\n    const allProducts = await getAllProducts();\n    return allProducts.filter((product)=>Number(product.harga) > 0);\n}\nasync function getProductMetadataList() {\n    const products = await getAllProducts();\n    return products.map((product)=>({\n            slug: product.id,\n            title: product.seo?.meta_title ?? product.judul,\n            description: product.seo?.meta_description ?? product.deskripsi_singkat,\n            image: (0,_assetPaths__WEBPACK_IMPORTED_MODULE_2__.resolveAssetPath)(product.detail?.gambar_utama ?? product.gambar_thumbnail),\n            price: product.harga\n        }));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHJvZHVjdHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQTZCO0FBQ0w7QUFDd0I7QUFDa0I7QUFFbEUsTUFBTUssV0FBV0MsUUFBUUMsR0FBRztBQUM1QixNQUFNQyxjQUFjUCxnREFBUyxDQUFDSSxVQUFVO0FBQ3hDLE1BQU1LLGVBQWVULGdEQUFTLENBQUNPLGFBQWE7QUFDNUMsTUFBTUcscUJBQXFCVixnREFBUyxDQUFDSSxVQUFVLFNBQVM7QUFDeEQsTUFBTU8sc0JBQXNCWCxnREFBUyxDQUFDSSxVQUFVLFNBQVM7QUFFekQseUNBQXlDO0FBQ3pDLE1BQU1RLGVBQWU7QUFFckIsZUFBZUMsU0FBU0MsUUFBUTtJQUM5QixJQUFJO1FBQ0YsTUFBTUMsT0FBTyxNQUFNaEIsMkRBQVcsQ0FBQ2UsVUFBVTtRQUN6QyxPQUFPRyxLQUFLQyxLQUFLLENBQUNIO0lBQ3BCLEVBQUUsT0FBT0ksT0FBTztRQUNkLElBQUlBLE1BQU1DLElBQUksS0FBSyxVQUFVO1lBQzNCLE9BQU87UUFDVDtRQUNBLE1BQU1EO0lBQ1I7QUFDRjtBQUVBLGVBQWVFO0lBQ2IsTUFBTUMsVUFBVSxNQUFNdkIsMERBQVUsQ0FBQ1U7SUFDakMsT0FBT2EsUUFDSkUsTUFBTSxDQUFDLENBQUNDLE9BQVNBLEtBQUtDLFFBQVEsQ0FBQyxVQUMvQkMsR0FBRyxDQUFDLENBQUNGLE9BQVNBLEtBQUtHLE9BQU8sQ0FBQyxXQUFXO0FBQzNDO0FBRU8sZUFBZUMsZUFBZUMsRUFBRTtJQUNyQyxxQkFBcUI7SUFDckIsSUFBSWxCLGNBQWM7UUFDaEIsSUFBSTtZQUNGLE1BQU1tQixVQUFVNUIseURBQW9CQSxDQUFDMkI7WUFDckMsSUFBSUMsU0FBUyxPQUFPQTtRQUN0QixFQUFFLE9BQU9aLE9BQU87WUFDZGEsUUFBUUMsSUFBSSxDQUFDLHlDQUF5Q2QsTUFBTWUsT0FBTztRQUNyRTtJQUNGO0lBRUEseUJBQXlCO0lBQ3pCLE1BQU1wQixXQUFXZCxnREFBUyxDQUFDUyxjQUFjLENBQUMsRUFBRXFCLEdBQUcsS0FBSyxDQUFDO0lBQ3JELE1BQU1DLFVBQVUsTUFBTWxCLFNBQVNDO0lBRS9CLElBQUksQ0FBQ2lCLFNBQVM7UUFDWixPQUFPO0lBQ1Q7SUFFQSxPQUFPO1FBQ0wsR0FBR0EsT0FBTztRQUNWRCxJQUFJQyxRQUFRRCxFQUFFLElBQUlBO0lBQ3BCO0FBQ0Y7QUFFTyxlQUFlSztJQUNwQixxQkFBcUI7SUFDckIsSUFBSXZCLGNBQWM7UUFDaEIsSUFBSTtZQUNGLE1BQU13QixXQUFXbEMseURBQW9CQTtZQUNyQyxJQUFJa0MsWUFBWUEsU0FBU0MsTUFBTSxHQUFHLEdBQUc7Z0JBQ25DLCtDQUErQztnQkFDL0MsT0FBT0QsU0FBU0UsSUFBSSxDQUFDLENBQUNDLEdBQUdDO29CQUN2QixzRUFBc0U7b0JBQ3RFLE9BQU9ELEVBQUVFLEtBQUssQ0FBQ0MsYUFBYSxDQUFDRixFQUFFQyxLQUFLLEVBQUU7Z0JBQ3hDO1lBQ0Y7UUFDRixFQUFFLE9BQU90QixPQUFPO1lBQ2RhLFFBQVFDLElBQUksQ0FBQyx5Q0FBeUNkLE1BQU1lLE9BQU87UUFDckU7SUFDRjtJQUVBLHlCQUF5QjtJQUN6QixNQUFNUyxRQUFRLE1BQU10QjtJQUNwQixNQUFNZSxXQUFXLE1BQU1RLFFBQVFDLEdBQUcsQ0FBQ0YsTUFBTWhCLEdBQUcsQ0FBQyxDQUFDbUIsT0FBU2pCLGVBQWVpQjtJQUN0RSxNQUFNQyxXQUFXWCxTQUFTWixNQUFNLENBQUN3QjtJQUVqQyxNQUFNQyxnQkFBZ0IsTUFBTXBDLFNBQVNGO0lBQ3JDLE1BQU11QyxlQUNKRCxlQUFlRSxlQUFleEIsSUFBSSxDQUFDeUIsT0FBU0EsS0FBS0MsTUFBTSxLQUFLLEVBQUU7SUFDaEUsTUFBTUMsV0FBVyxJQUFJQyxJQUFJTCxhQUFhdkIsR0FBRyxDQUFDLENBQUNtQixNQUFNVSxRQUFVO1lBQUNWO1lBQU1VO1NBQU07SUFFeEUsT0FBT1QsU0FBU1QsSUFBSSxDQUFDLENBQUNDLEdBQUdDO1FBQ3ZCLE1BQU1pQixTQUFTSCxTQUFTSSxHQUFHLENBQUNuQixFQUFFVCxFQUFFLElBQUl3QixTQUFTSyxHQUFHLENBQUNwQixFQUFFVCxFQUFFLElBQUk4QjtRQUN6RCxNQUFNQyxTQUFTUCxTQUFTSSxHQUFHLENBQUNsQixFQUFFVixFQUFFLElBQUl3QixTQUFTSyxHQUFHLENBQUNuQixFQUFFVixFQUFFLElBQUk4QjtRQUV6RCxJQUFJSCxXQUFXSSxRQUFRO1lBQ3JCLE9BQU9KLFNBQVNJO1FBQ2xCO1FBRUEsT0FBT3RCLEVBQUVFLEtBQUssQ0FBQ0MsYUFBYSxDQUFDRixFQUFFQyxLQUFLLEVBQUU7SUFDeEM7QUFDRjtBQUVPLGVBQWVxQjtJQUNwQixxQkFBcUI7SUFDckIsSUFBSWxELGNBQWM7UUFDaEIsSUFBSTtZQUNGLE1BQU1tRCxjQUFjN0QseURBQW9CQTtZQUN4QyxJQUFJNkQsZUFBZUEsWUFBWTFCLE1BQU0sR0FBRyxHQUFHO2dCQUN6Qyx5Q0FBeUM7Z0JBQ3pDLE1BQU0yQixtQkFBbUJELFlBQVl2QyxNQUFNLENBQ3pDLENBQUNPLFVBQVlBLFFBQVFrQyxRQUFRLEtBQUssUUFBUWxDLFFBQVFrQyxRQUFRLEtBQUs7Z0JBRWpFLElBQUlELGlCQUFpQjNCLE1BQU0sR0FBRyxHQUFHO29CQUMvQixPQUFPMkI7Z0JBQ1Q7WUFDRjtRQUNGLEVBQUUsT0FBTzdDLE9BQU87WUFDZGEsUUFBUUMsSUFBSSxDQUFDLHlDQUF5Q2QsTUFBTWUsT0FBTztRQUNyRTtJQUNGO0lBRUEseUJBQXlCO0lBQ3pCLE1BQU1nQyxtQkFBbUIsTUFBTXJELFNBQVNIO0lBQ3hDLE1BQU15RCxnQkFBZ0JELGtCQUFrQkUsbUJBQW1CLEVBQUU7SUFDN0QsTUFBTWhDLFdBQVcsTUFBTVEsUUFBUUMsR0FBRyxDQUNoQ3NCLGNBQWN4QyxHQUFHLENBQUMsQ0FBQ21CLE9BQVNqQixlQUFlaUI7SUFFN0MsT0FBT1YsU0FBU1osTUFBTSxDQUFDd0I7QUFDekI7QUFFTyxlQUFlcUI7SUFDcEIsTUFBTU4sY0FBYyxNQUFNNUI7SUFDMUIsT0FBTzRCLFlBQVl2QyxNQUFNLENBQUMsQ0FBQ08sVUFBWXVDLE9BQU92QyxRQUFRd0MsS0FBSyxNQUFNO0FBQ25FO0FBRU8sZUFBZUM7SUFDcEIsTUFBTVQsY0FBYyxNQUFNNUI7SUFDMUIsT0FBTzRCLFlBQVl2QyxNQUFNLENBQUMsQ0FBQ08sVUFBWXVDLE9BQU92QyxRQUFRd0MsS0FBSyxJQUFJO0FBQ2pFO0FBRU8sZUFBZUU7SUFDcEIsTUFBTXJDLFdBQVcsTUFBTUQ7SUFDdkIsT0FBT0MsU0FBU1QsR0FBRyxDQUFDLENBQUNJLFVBQWE7WUFDaENlLE1BQU1mLFFBQVFELEVBQUU7WUFDaEI0QyxPQUFPM0MsUUFBUTRDLEdBQUcsRUFBRUMsY0FBYzdDLFFBQVFVLEtBQUs7WUFDL0NvQyxhQUFhOUMsUUFBUTRDLEdBQUcsRUFBRUcsb0JBQW9CL0MsUUFBUWdELGlCQUFpQjtZQUN2RUMsT0FBTy9FLDZEQUFnQkEsQ0FBQzhCLFFBQVFrRCxNQUFNLEVBQUVDLGdCQUFnQm5ELFFBQVFvRCxnQkFBZ0I7WUFDaEZDLE9BQU9yRCxRQUFRd0MsS0FBSztRQUN0QjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcnNxdWFyZS8uL2xpYi9wcm9kdWN0cy5qcz9mZjY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcyBmcm9tIFwiZnMvcHJvbWlzZXNcIjtcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgeyByZXNvbHZlQXNzZXRQYXRoIH0gZnJvbSBcIi4vYXNzZXRQYXRoc1wiO1xuaW1wb3J0IHsgZ2V0QWxsUHJvZHVjdHNGcm9tREIsIGdldFByb2R1Y3RCeUlkRnJvbURCIH0gZnJvbSBcIi4vZGJcIjtcblxuY29uc3QgUk9PVF9ESVIgPSBwcm9jZXNzLmN3ZCgpO1xuY29uc3QgQ09OVEVOVF9ESVIgPSBwYXRoLmpvaW4oUk9PVF9ESVIsIFwiY29udGVudFwiKTtcbmNvbnN0IFBST0RVQ1RTX0RJUiA9IHBhdGguam9pbihDT05URU5UX0RJUiwgXCJwcm9kdWtcIik7XG5jb25zdCBIT01FUEFHRV9EQVRBX1BBVEggPSBwYXRoLmpvaW4oUk9PVF9ESVIsIFwiX2RhdGFcIiwgXCJob21lcGFnZS5qc29uXCIpO1xuY29uc3QgVEVNUExBVEVfT1JERVJfUEFUSCA9IHBhdGguam9pbihST09UX0RJUiwgXCJfZGF0YVwiLCBcInRlbXBsYXRlX29yZGVyLmpzb25cIik7XG5cbi8vIFVzZSBkYXRhYmFzZSBvciBmYWxsYmFjayB0byBKU09OIGZpbGVzXG5jb25zdCBVU0VfREFUQUJBU0UgPSB0cnVlO1xuXG5hc3luYyBmdW5jdGlvbiByZWFkSnNvbihmaWxlUGF0aCkge1xuICB0cnkge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmcy5yZWFkRmlsZShmaWxlUGF0aCwgXCJ1dGY4XCIpO1xuICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChlcnJvci5jb2RlID09PSBcIkVOT0VOVFwiKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0UHJvZHVjdFNsdWdzKCkge1xuICBjb25zdCBlbnRyaWVzID0gYXdhaXQgZnMucmVhZGRpcihQUk9EVUNUU19ESVIpO1xuICByZXR1cm4gZW50cmllc1xuICAgIC5maWx0ZXIoKGZpbGUpID0+IGZpbGUuZW5kc1dpdGgoXCIuanNvblwiKSlcbiAgICAubWFwKChmaWxlKSA9PiBmaWxlLnJlcGxhY2UoL1xcLmpzb24kLywgXCJcIikpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UHJvZHVjdEJ5SWQoaWQpIHtcbiAgLy8gVHJ5IGRhdGFiYXNlIGZpcnN0XG4gIGlmIChVU0VfREFUQUJBU0UpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcHJvZHVjdCA9IGdldFByb2R1Y3RCeUlkRnJvbURCKGlkKTtcbiAgICAgIGlmIChwcm9kdWN0KSByZXR1cm4gcHJvZHVjdDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKFwiRGF0YWJhc2UgZXJyb3IsIGZhbGxpbmcgYmFjayB0byBKU09OOlwiLCBlcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICAvLyBGYWxsYmFjayB0byBKU09OIGZpbGVzXG4gIGNvbnN0IGZpbGVQYXRoID0gcGF0aC5qb2luKFBST0RVQ1RTX0RJUiwgYCR7aWR9Lmpzb25gKTtcbiAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IHJlYWRKc29uKGZpbGVQYXRoKTtcblxuICBpZiAoIXByb2R1Y3QpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgLi4ucHJvZHVjdCxcbiAgICBpZDogcHJvZHVjdC5pZCA/PyBpZCxcbiAgfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbFByb2R1Y3RzKCkge1xuICAvLyBUcnkgZGF0YWJhc2UgZmlyc3RcbiAgaWYgKFVTRV9EQVRBQkFTRSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwcm9kdWN0cyA9IGdldEFsbFByb2R1Y3RzRnJvbURCKCk7XG4gICAgICBpZiAocHJvZHVjdHMgJiYgcHJvZHVjdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBTb3J0IGJ5IGNyZWF0ZWRfYXQgZGVzY2VuZGluZyAobmV3ZXN0IGZpcnN0KVxuICAgICAgICByZXR1cm4gcHJvZHVjdHMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgIC8vIElmIHlvdSB3YW50IHRvIG1haW50YWluIHRlbXBsYXRlIG9yZGVyLCB5b3UgY2FuIHN0aWxsIGFwcGx5IGl0IGhlcmVcbiAgICAgICAgICByZXR1cm4gYS5qdWR1bC5sb2NhbGVDb21wYXJlKGIuanVkdWwsIFwiaWRcIik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJEYXRhYmFzZSBlcnJvciwgZmFsbGluZyBiYWNrIHRvIEpTT046XCIsIGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZhbGxiYWNrIHRvIEpTT04gZmlsZXNcbiAgY29uc3Qgc2x1Z3MgPSBhd2FpdCBnZXRQcm9kdWN0U2x1Z3MoKTtcbiAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBQcm9taXNlLmFsbChzbHVncy5tYXAoKHNsdWcpID0+IGdldFByb2R1Y3RCeUlkKHNsdWcpKSk7XG4gIGNvbnN0IGZpbHRlcmVkID0gcHJvZHVjdHMuZmlsdGVyKEJvb2xlYW4pO1xuXG4gIGNvbnN0IHRlbXBsYXRlT3JkZXIgPSBhd2FpdCByZWFkSnNvbihURU1QTEFURV9PUkRFUl9QQVRIKTtcbiAgY29uc3Qgb3JkZXJlZFNsdWdzID1cbiAgICB0ZW1wbGF0ZU9yZGVyPy51cnV0YW5fcHJvZHVrPy5tYXAoKGl0ZW0pID0+IGl0ZW0ucHJvZHVrKSA/PyBbXTtcbiAgY29uc3Qgb3JkZXJNYXAgPSBuZXcgTWFwKG9yZGVyZWRTbHVncy5tYXAoKHNsdWcsIGluZGV4KSA9PiBbc2x1ZywgaW5kZXhdKSk7XG5cbiAgcmV0dXJuIGZpbHRlcmVkLnNvcnQoKGEsIGIpID0+IHtcbiAgICBjb25zdCBhSW5kZXggPSBvcmRlck1hcC5oYXMoYS5pZCkgPyBvcmRlck1hcC5nZXQoYS5pZCkgOiBJbmZpbml0eTtcbiAgICBjb25zdCBiSW5kZXggPSBvcmRlck1hcC5oYXMoYi5pZCkgPyBvcmRlck1hcC5nZXQoYi5pZCkgOiBJbmZpbml0eTtcblxuICAgIGlmIChhSW5kZXggIT09IGJJbmRleCkge1xuICAgICAgcmV0dXJuIGFJbmRleCAtIGJJbmRleDtcbiAgICB9XG5cbiAgICByZXR1cm4gYS5qdWR1bC5sb2NhbGVDb21wYXJlKGIuanVkdWwsIFwiaWRcIik7XG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RmVhdHVyZWRQcm9kdWN0cygpIHtcbiAgLy8gVHJ5IGRhdGFiYXNlIGZpcnN0XG4gIGlmIChVU0VfREFUQUJBU0UpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYWxsUHJvZHVjdHMgPSBnZXRBbGxQcm9kdWN0c0Zyb21EQigpO1xuICAgICAgaWYgKGFsbFByb2R1Y3RzICYmIGFsbFByb2R1Y3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gRmlsdGVyIHByb2R1Y3RzIHdoZXJlIGZlYXR1cmVkIGlzIHRydWVcbiAgICAgICAgY29uc3QgZmVhdHVyZWRQcm9kdWN0cyA9IGFsbFByb2R1Y3RzLmZpbHRlcihcbiAgICAgICAgICAocHJvZHVjdCkgPT4gcHJvZHVjdC5mZWF0dXJlZCA9PT0gdHJ1ZSB8fCBwcm9kdWN0LmZlYXR1cmVkID09PSAxXG4gICAgICAgICk7XG4gICAgICAgIGlmIChmZWF0dXJlZFByb2R1Y3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gZmVhdHVyZWRQcm9kdWN0cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJEYXRhYmFzZSBlcnJvciwgZmFsbGluZyBiYWNrIHRvIEpTT046XCIsIGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZhbGxiYWNrIHRvIEpTT04gZmlsZXNcbiAgY29uc3QgaG9tZXBhZ2VTZXR0aW5ncyA9IGF3YWl0IHJlYWRKc29uKEhPTUVQQUdFX0RBVEFfUEFUSCk7XG4gIGNvbnN0IGZlYXR1cmVkU2x1Z3MgPSBob21lcGFnZVNldHRpbmdzPy5wcm9kdWtfdW5nZ3VsYW4gPz8gW107XG4gIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgZmVhdHVyZWRTbHVncy5tYXAoKHNsdWcpID0+IGdldFByb2R1Y3RCeUlkKHNsdWcpKSxcbiAgKTtcbiAgcmV0dXJuIHByb2R1Y3RzLmZpbHRlcihCb29sZWFuKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEZyZWVQcm9kdWN0cygpIHtcbiAgY29uc3QgYWxsUHJvZHVjdHMgPSBhd2FpdCBnZXRBbGxQcm9kdWN0cygpO1xuICByZXR1cm4gYWxsUHJvZHVjdHMuZmlsdGVyKChwcm9kdWN0KSA9PiBOdW1iZXIocHJvZHVjdC5oYXJnYSkgPT09IDApO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Tm9uRnJlZVByb2R1Y3RzKCkge1xuICBjb25zdCBhbGxQcm9kdWN0cyA9IGF3YWl0IGdldEFsbFByb2R1Y3RzKCk7XG4gIHJldHVybiBhbGxQcm9kdWN0cy5maWx0ZXIoKHByb2R1Y3QpID0+IE51bWJlcihwcm9kdWN0LmhhcmdhKSA+IDApO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UHJvZHVjdE1ldGFkYXRhTGlzdCgpIHtcbiAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBnZXRBbGxQcm9kdWN0cygpO1xuICByZXR1cm4gcHJvZHVjdHMubWFwKChwcm9kdWN0KSA9PiAoe1xuICAgIHNsdWc6IHByb2R1Y3QuaWQsXG4gICAgdGl0bGU6IHByb2R1Y3Quc2VvPy5tZXRhX3RpdGxlID8/IHByb2R1Y3QuanVkdWwsXG4gICAgZGVzY3JpcHRpb246IHByb2R1Y3Quc2VvPy5tZXRhX2Rlc2NyaXB0aW9uID8/IHByb2R1Y3QuZGVza3JpcHNpX3NpbmdrYXQsXG4gICAgaW1hZ2U6IHJlc29sdmVBc3NldFBhdGgocHJvZHVjdC5kZXRhaWw/LmdhbWJhcl91dGFtYSA/PyBwcm9kdWN0LmdhbWJhcl90aHVtYm5haWwpLFxuICAgIHByaWNlOiBwcm9kdWN0LmhhcmdhLFxuICB9KSk7XG59XG4iXSwibmFtZXMiOlsiZnMiLCJwYXRoIiwicmVzb2x2ZUFzc2V0UGF0aCIsImdldEFsbFByb2R1Y3RzRnJvbURCIiwiZ2V0UHJvZHVjdEJ5SWRGcm9tREIiLCJST09UX0RJUiIsInByb2Nlc3MiLCJjd2QiLCJDT05URU5UX0RJUiIsImpvaW4iLCJQUk9EVUNUU19ESVIiLCJIT01FUEFHRV9EQVRBX1BBVEgiLCJURU1QTEFURV9PUkRFUl9QQVRIIiwiVVNFX0RBVEFCQVNFIiwicmVhZEpzb24iLCJmaWxlUGF0aCIsImRhdGEiLCJyZWFkRmlsZSIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwiY29kZSIsImdldFByb2R1Y3RTbHVncyIsImVudHJpZXMiLCJyZWFkZGlyIiwiZmlsdGVyIiwiZmlsZSIsImVuZHNXaXRoIiwibWFwIiwicmVwbGFjZSIsImdldFByb2R1Y3RCeUlkIiwiaWQiLCJwcm9kdWN0IiwiY29uc29sZSIsIndhcm4iLCJtZXNzYWdlIiwiZ2V0QWxsUHJvZHVjdHMiLCJwcm9kdWN0cyIsImxlbmd0aCIsInNvcnQiLCJhIiwiYiIsImp1ZHVsIiwibG9jYWxlQ29tcGFyZSIsInNsdWdzIiwiUHJvbWlzZSIsImFsbCIsInNsdWciLCJmaWx0ZXJlZCIsIkJvb2xlYW4iLCJ0ZW1wbGF0ZU9yZGVyIiwib3JkZXJlZFNsdWdzIiwidXJ1dGFuX3Byb2R1ayIsIml0ZW0iLCJwcm9kdWsiLCJvcmRlck1hcCIsIk1hcCIsImluZGV4IiwiYUluZGV4IiwiaGFzIiwiZ2V0IiwiSW5maW5pdHkiLCJiSW5kZXgiLCJnZXRGZWF0dXJlZFByb2R1Y3RzIiwiYWxsUHJvZHVjdHMiLCJmZWF0dXJlZFByb2R1Y3RzIiwiZmVhdHVyZWQiLCJob21lcGFnZVNldHRpbmdzIiwiZmVhdHVyZWRTbHVncyIsInByb2R1a191bmdndWxhbiIsImdldEZyZWVQcm9kdWN0cyIsIk51bWJlciIsImhhcmdhIiwiZ2V0Tm9uRnJlZVByb2R1Y3RzIiwiZ2V0UHJvZHVjdE1ldGFkYXRhTGlzdCIsInRpdGxlIiwic2VvIiwibWV0YV90aXRsZSIsImRlc2NyaXB0aW9uIiwibWV0YV9kZXNjcmlwdGlvbiIsImRlc2tyaXBzaV9zaW5na2F0IiwiaW1hZ2UiLCJkZXRhaWwiLCJnYW1iYXJfdXRhbWEiLCJnYW1iYXJfdGh1bWJuYWlsIiwicHJpY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/products.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2Froute&page=%2Fapi%2Fproducts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Froute.js&appDir=%2Fhome%2Ftuneeca%2Fweb_app%2FRSQUARE-NextJS%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Ftuneeca%2Fweb_app%2FRSQUARE-NextJS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();